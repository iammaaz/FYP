@model IEnumerable<FYP_Demo.HallInfo>

@{
    ViewBag.Title = "MyListing";
    Layout = "~/Views/Shared/_ListyLayout.cshtml";
}
<!-- Dashboard Header -->
@Html.Partial("_PartialDashboard")

<!-- LISTINGS SECTION -->
<section class="clearfix bg-dark listyPage">
    <div class="container">
        <div class="row">
            <div class="col-xs-12">
                <div class="dashboardPageTitle">
                    <h2>My Listings</h2>
                </div>
                <div class="table-responsive" data-pattern="priority-columns">
                    <table class="table listingsTable">
                        <thead>
                            <tr class="rowItem">
                                <th data-priority="">Listings</th>
                                <th data-priority="1">Featured</th>
                                <th data-priority="6">Views</th>
                                <th data-priority="2">Reviews</th>
                                <th data-priority="3">Posted on</th>
                                <th data-priority="4">Last Edited</th>
                                <th data-priority="5">Status</th>
                                <th data-priority="7">Actions</th>
                            </tr>
                        </thead>
                        <tbody>
                            @foreach (HallInfo item in Model)
                            {
                                <tr class="rowItem">
                                    <td>
                                        <ul class="list-inline listingsInfo">
                                            <li><a href="@Url.Action("VenueDetails","Vendor", new { id= item.HallInfoID })"><img src="~/Content/ListyTheme/img/things/things-10.jpg" alt="Image Listings"></a></li>
                                            <li>
                                                <h3> @item.HallName.ToString() <i class="fa fa-check-circle" aria-hidden="true"></i></h3>
                                                <h5>@item.HallAddress.StreetAddress.ToString() <span class="cityName">@item.HallAddress.City.ToString()</span></h5>
                                                <span class="category">Wedding Halls</span>
                                                <p>From @item.MyHallPricing.RentPerHour.ToString() / Hour <span class="likeArea"><i class="fa fa-heart-o" aria-hidden="true"></i>15k</span></p>
                                            </li>
                                        </ul>
                                    </td>
                                    <td><i class="fa fa-check primaryColor" aria-hidden="true"></i></td>
                                    <td>784</td>
                                    <td>
                                        <ul class="list-inline rating">
                                            <li><i class="fa fa-star" aria-hidden="true"></i></li>
                                            <li><i class="fa fa-star" aria-hidden="true"></i></li>
                                            <li><i class="fa fa-star" aria-hidden="true"></i></li>
                                            <li><i class="fa fa-star" aria-hidden="true"></i></li>
                                            <li><i class="fa fa-star-o" aria-hidden="true"></i></li>
                                            <li>(7)</li>
                                        </ul>
                                    </td>
                                    <td>28/02/2018 <br>9.15am</td>
                                    <td>Today <br>11.00am</td>
                                    <td><span class="label label-success">Active</span></td>
                                    <td>
                                        @Html.ActionLink("Edit", "AddVenue", new { id = item.HallInfoID }) |
                                        @Html.ActionLink("Details", "VenueDetails", new { id = item.HallInfoID }) |
                                        
                                        <a href="javascript:void(0);" class="anchorDetail" data-toggle="modal" data-target="#myModal" data-id="@item.HallInfoID" onclick="delete_modal(@item.HallInfoID)">Delete</a>
                                    </td>
                                </tr>
                            }

                        </tbody>
                    </table>
                </div>
                <div class="paginationCommon blogPagination text-center">
                    <nav aria-label="Page navigation">
                        <ul class="pagination">
                            <li>
                                <a href="#" aria-label="Previous">
                                    <span aria-hidden="true"><i class="fa fa-angle-left" aria-hidden="true"></i></span>
                                </a>
                            </li>
                            <li class="active"><a href="#">1</a></li>
                            <li><a href="#">2</a></li>
                            <li><a href="#">3</a></li>
                            <li><a href="#">4</a></li>
                            <li><a href="#">5</a></li>
                            <li>
                                <a href="#" aria-label="Next">
                                    <span aria-hidden="true"><i class="fa fa-angle-right" aria-hidden="true"></i></span>
                                </a>
                            </li>
                        </ul>
                    </nav>
                </div>
            </div>
        </div>
    </div>

    <!-- Modal -->
    <div class="modal fade" id="myModal" role="dialog">
        <div class="modal-dialog">

            <!-- Modal content-->
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal">&times;</button>
                    <h4 class="modal-title">Delete Venue</h4>
                </div>
                <div class="modal-body">
                    <p>Are you sure you want to delete this ? This action can't be undone</p>
                    <input type="hidden" value="" name="delete_id" id="delete_id" />
                </div>
                <div class="modal-footer">
                        <a href="" id="delete_anchor"><button type="button" class="btn btn-danger btn-sm">Yes</button></a>
                        <button type="button" class="btn btn-success btn-sm" data-dismiss="modal">No</button>
                </div>
            </div>

        </div>
    </div>



</section>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
 <script>
     
         function delete_modal(id) {
             $("#delete_id").val(id);

             $("#delete_anchor").attr("href","http://localhost:53676/Vendor/DeleteHall/"+id);
         }
     
 </script>